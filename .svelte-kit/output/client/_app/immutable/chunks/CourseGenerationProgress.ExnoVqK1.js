import{s as R,n as H,c as W,o as X,r as Y}from"./scheduler.DhsztkH2.js";import{S as Z,i as ee,z as J,g as I,d,e as b,s as S,t as z,c as _,a as L,k as x,f as C,b as E,l as c,h as f,m as V,j as D,o as $}from"./index.DK03Zu-C.js";import{w as te}from"./index.hQFG0jTX.js";import{g as le}from"./entry.XLM3-e4P.js";const q=()=>{{const a=localStorage.getItem("loadingState");if(a)return JSON.parse(a)}return{isLoading:!1,currentModule:0,totalModules:10,currentModuleTitle:"",currentStep:"",progress:0,courseTitle:"",minimized:!1,courseId:null,isInitialBuild:!1,error:null}},ie=()=>{const{subscribe:a,set:e,update:r}=te(q());return a(t=>{localStorage.setItem("loadingState",JSON.stringify(t))}),{subscribe:a,startLoading:(t="",i=!1)=>r(l=>({...l,isLoading:!0,currentModule:0,progress:0,courseTitle:t,isInitialBuild:i})),stopLoading:(t=null)=>r(i=>({...i,isLoading:!1,currentModule:0,currentStep:"",progress:100,courseId:t})),setMinimized:t=>r(i=>({...i,minimized:t})),clearState:()=>{localStorage.removeItem("loadingState"),e(q())},setCurrentModule:(t,i="")=>r(l=>({...l,currentModule:t,currentModuleTitle:i})),setStep:t=>r(i=>({...i,currentStep:t})),setProgress:t=>r(i=>({...i,progress:Math.min(Math.max(t,0),100)})),setTotalModules:t=>r(i=>({...i,totalModules:t})),setError:t=>r(i=>({...i,error:t,isLoading:t?!0:i.isLoading})),clearError:()=>r(t=>({...t,error:null}))}},P=ie();function re(a){let e,r,t,i='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',l,s,o=a[1].courseTitle+"",p,k,T,y;return{c(){e=b("div"),r=b("div"),t=b("button"),t.innerHTML=i,l=S(),s=b("div"),p=z(o),k=z(" course is built successfully! Click to view →"),this.h()},l(w){e=_(w,"DIV",{class:!0});var u=L(e);r=_(u,"DIV",{class:!0});var h=L(r);t=_(h,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),x(t)!=="svelte-67vj2"&&(t.innerHTML=i),l=C(h),s=_(h,"DIV",{role:!0,tabindex:!0,class:!0});var m=L(s);p=E(m,o),k=E(m," course is built successfully! Click to view →"),m.forEach(d),h.forEach(d),u.forEach(d),this.h()},h(){c(t,"class","absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 shadow-lg"),c(t,"aria-label","Close notification"),c(s,"role","button"),c(s,"tabindex","0"),c(s,"class","cursor-pointer hover:text-white/90"),c(r,"class","bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg relative group"),c(e,"class","fixed bottom-4 right-4 z-40")},m(w,u){I(w,e,u),f(e,r),f(r,t),f(r,l),f(r,s),f(s,p),f(s,k),T||(y=[V(t,"click",a[4]),V(s,"click",a[2]),V(s,"keydown",a[5])],T=!0)},p(w,u){u&2&&o!==(o=w[1].courseTitle+"")&&D(p,o)},d(w){w&&d(e),T=!1,Y(y)}}}function se(a){let e,r;function t(s,o){return s[1].minimized?oe:ae}let i=t(a),l=i(a);return{c(){e=b("div"),l.c(),this.h()},l(s){e=_(s,"DIV",{class:!0});var o=L(e);l.l(o),o.forEach(d),this.h()},h(){c(e,"class",r=`fixed transition-all duration-300 ${a[1].minimized?"bottom-4 right-4 w-72 z-40":"inset-0 z-50"}`)},m(s,o){I(s,e,o),l.m(e,null)},p(s,o){i===(i=t(s))&&l?l.p(s,o):(l.d(1),l=i(s),l&&(l.c(),l.m(e,null))),o&2&&r!==(r=`fixed transition-all duration-300 ${s[1].minimized?"bottom-4 right-4 w-72 z-40":"inset-0 z-50"}`)&&c(e,"class",r)},d(s){s&&d(e),l.d()}}}function ae(a){let e,r,t,i,l,s,o,p,k=a[1].currentStep+"",T,y,w,u=a[1].error&&G(a),h=!a[1].isInitialBuild&&A(a),m=a[1].currentModule>0&&F(a);return{c(){e=b("div"),r=b("div"),t=b("div"),u&&u.c(),i=S(),h&&h.c(),l=S(),s=b("div"),o=S(),p=b("p"),T=z(k),y=S(),w=b("p"),m&&m.c(),this.h()},l(n){e=_(n,"DIV",{class:!0});var v=L(e);r=_(v,"DIV",{class:!0});var g=L(r);t=_(g,"DIV",{class:!0});var M=L(t);u&&u.l(M),i=C(M),h&&h.l(M),M.forEach(d),l=C(g),s=_(g,"DIV",{class:!0}),L(s).forEach(d),o=C(g),p=_(g,"P",{class:!0});var B=L(p);T=E(B,k),B.forEach(d),y=C(g),w=_(g,"P",{class:!0});var N=L(w);m&&m.l(N),N.forEach(d),g.forEach(d),v.forEach(d),this.h()},h(){c(t,"class","absolute top-2 right-2 flex gap-2"),c(s,"class","animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"),c(p,"class","text-xl mb-2"),c(w,"class","text-sm text-gray-600 mb-4"),c(r,"class","bg-white p-8 rounded-lg shadow-lg text-center max-w-md relative"),c(e,"class","bg-black bg-opacity-50 flex items-center justify-center h-full")},m(n,v){I(n,e,v),f(e,r),f(r,t),u&&u.m(t,null),f(t,i),h&&h.m(t,null),f(r,l),f(r,s),f(r,o),f(r,p),f(p,T),f(r,y),f(r,w),m&&m.m(w,null)},p(n,v){n[1].error?u?u.p(n,v):(u=G(n),u.c(),u.m(t,i)):u&&(u.d(1),u=null),n[1].isInitialBuild?h&&(h.d(1),h=null):h?h.p(n,v):(h=A(n),h.c(),h.m(t,null)),v&2&&k!==(k=n[1].currentStep+"")&&D(T,k),n[1].currentModule>0?m?m.p(n,v):(m=F(n),m.c(),m.m(w,null)):m&&(m.d(1),m=null)},d(n){n&&d(e),u&&u.d(),h&&h.d(),m&&m.d()}}}function oe(a){let e,r,t,i=a[1].courseTitle+"",l,s,o,p,k,T,y,w,u,h=a[1].currentStep+"",m,n=a[1].error&&K(a),v=!a[1].isInitialBuild&&Q(a);return{c(){e=b("div"),r=b("div"),t=b("h3"),l=z(i),s=S(),o=b("div"),n&&n.c(),p=S(),v&&v.c(),k=S(),T=b("div"),y=b("div"),w=S(),u=b("p"),m=z(h),this.h()},l(g){e=_(g,"DIV",{class:!0});var M=L(e);r=_(M,"DIV",{class:!0});var B=L(r);t=_(B,"H3",{class:!0});var N=L(t);l=E(N,i),N.forEach(d),s=C(B),o=_(B,"DIV",{class:!0});var O=L(o);n&&n.l(O),p=C(O),v&&v.l(O),O.forEach(d),B.forEach(d),k=C(M),T=_(M,"DIV",{class:!0});var j=L(T);y=_(j,"DIV",{class:!0,style:!0}),L(y).forEach(d),j.forEach(d),w=C(M),u=_(M,"P",{class:!0});var U=L(u);m=E(U,h),U.forEach(d),M.forEach(d),this.h()},h(){c(t,"class","font-semibold truncate"),c(o,"class","flex gap-2"),c(r,"class","flex justify-between items-center mb-2"),c(y,"class","bg-blue-600 h-full rounded-full transition-all duration-300"),$(y,"width",a[1].progress+"%"),c(T,"class","bg-gray-200 rounded-full h-2 mb-2"),c(u,"class","text-sm text-gray-600"),c(e,"class","bg-white rounded-lg shadow-lg p-4")},m(g,M){I(g,e,M),f(e,r),f(r,t),f(t,l),f(r,s),f(r,o),n&&n.m(o,null),f(o,p),v&&v.m(o,null),f(e,k),f(e,T),f(T,y),f(e,w),f(e,u),f(u,m)},p(g,M){M&2&&i!==(i=g[1].courseTitle+"")&&D(l,i),g[1].error?n?n.p(g,M):(n=K(g),n.c(),n.m(o,p)):n&&(n.d(1),n=null),g[1].isInitialBuild?v&&(v.d(1),v=null):v?v.p(g,M):(v=Q(g),v.c(),v.m(o,null)),M&2&&$(y,"width",g[1].progress+"%"),M&2&&h!==(h=g[1].currentStep+"")&&D(m,h)},d(g){g&&d(e),n&&n.d(),v&&v.d()}}}function G(a){let e,r='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',t,i;return{c(){e=b("button"),e.innerHTML=r,this.h()},l(l){e=_(l,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),x(e)!=="svelte-1a93a9x"&&(e.innerHTML=r),this.h()},h(){c(e,"class","w-6 h-6 flex items-center justify-center bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors duration-200"),c(e,"aria-label","Close")},m(l,s){I(l,e,s),t||(i=V(e,"click",a[4]),t=!0)},p:H,d(l){l&&d(e),t=!1,i()}}}function A(a){let e,r='<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-gray-600" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>',t,i;return{c(){e=b("button"),e.innerHTML=r,this.h()},l(l){e=_(l,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),x(e)!=="svelte-ahe7n4"&&(e.innerHTML=r),this.h()},h(){c(e,"class","w-6 h-6 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded-full transition-colors duration-200"),c(e,"aria-label","Minimize")},m(l,s){I(l,e,s),t||(i=V(e,"click",a[3]),t=!0)},p:H,d(l){l&&d(e),t=!1,i()}}}function F(a){let e,r=a[1].currentModule+"",t,i,l=a[1].totalModules+"",s;return{c(){e=z("Processing module "),t=z(r),i=z(" of "),s=z(l)},l(o){e=E(o,"Processing module "),t=E(o,r),i=E(o," of "),s=E(o,l)},m(o,p){I(o,e,p),I(o,t,p),I(o,i,p),I(o,s,p)},p(o,p){p&2&&r!==(r=o[1].currentModule+"")&&D(t,r),p&2&&l!==(l=o[1].totalModules+"")&&D(s,l)},d(o){o&&(d(e),d(t),d(i),d(s))}}}function K(a){let e,r='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',t,i;return{c(){e=b("button"),e.innerHTML=r,this.h()},l(l){e=_(l,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),x(e)!=="svelte-4ymrkt"&&(e.innerHTML=r),this.h()},h(){c(e,"class","text-red-500 hover:text-red-700"),c(e,"aria-label","Close")},m(l,s){I(l,e,s),t||(i=V(e,"click",a[4]),t=!0)},p:H,d(l){l&&d(e),t=!1,i()}}}function Q(a){let e,r='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 11-2 0V4H5v12h10v-1a1 1 0 112 0v2a1 1 0 01-1 1H4a1 1 0 01-1-1V3z" clip-rule="evenodd"></path></svg>',t,i;return{c(){e=b("button"),e.innerHTML=r,this.h()},l(l){e=_(l,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),x(e)!=="svelte-15ddz3p"&&(e.innerHTML=r),this.h()},h(){c(e,"class","text-gray-500 hover:text-gray-700"),c(e,"aria-label","Maximize")},m(l,s){I(l,e,s),t||(i=V(e,"click",a[3]),t=!0)},p:H,d(l){l&&d(e),t=!1,i()}}}function ne(a){let e;function r(l,s){if(l[0]&&l[1].isLoading)return se;if(l[0]&&l[1].courseId)return re}let t=r(a),i=t&&t(a);return{c(){i&&i.c(),e=J()},l(l){i&&i.l(l),e=J()},m(l,s){i&&i.m(l,s),I(l,e,s)},p(l,[s]){t===(t=r(l))&&i?i.p(l,s):(i&&i.d(1),i=t&&t(l),i&&(i.c(),i.m(e.parentNode,e)))},i:H,o:H,d(l){l&&d(e),i&&i.d(l)}}}function ue(a,e,r){let t;W(a,P,k=>r(1,t=k));let i=!1;X(()=>(r(0,i=!0),()=>{r(0,i=!1)}));function l(){t.courseId&&(le(`/course/${t.courseId}`),P.clearState())}function s(){P.setMinimized(!t.minimized)}function o(){P.clearState()}return[i,t,l,s,o,k=>k.key==="Enter"&&l()]}class ve extends Z{constructor(e){super(),ee(this,e,ue,ne,R,{})}}export{ve as C,P as l};
