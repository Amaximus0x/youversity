import{s as Ne,n as ce,c as Te,o as Oe,r as je,a as ye}from"../chunks/scheduler.DhsztkH2.js";import{S as Ae,i as De,e as v,c as m,a as y,d,l as u,g as V,h as r,k as A,t as N,s as M,b as O,f as Q,m as te,j as H,n as ve,o as He,p as Re,q as ze}from"../chunks/index.DK03Zu-C.js";import{e as le}from"../chunks/each.D6YF6ztN.js";import{p as Be}from"../chunks/stores.DGGOFXbD.js";import{g as Ye}from"../chunks/entry.XLM3-e4P.js";import{u as Se}from"../chunks/auth.hjYb--ZN.js";import{g as We}from"../chunks/firebase.D9dyBQNl.js";function Ie(l,t,e){const s=l.slice();return s[20]=t[e],s[21]=t,s[22]=e,s}function Fe(l,t,e){const s=l.slice();return s[23]=t[e][0],s[24]=t[e][1],s}function Me(l,t,e){const s=l.slice();return s[27]=t[e],s[22]=e,s}function Ge(l){let t,e="No course data available";return{c(){t=v("div"),t.textContent=e,this.h()},l(s){t=m(s,"DIV",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1r2eqcv"&&(t.textContent=e),this.h()},h(){u(t,"class","text-center py-8")},m(s,_){V(s,t,_)},p:ce,d(s){s&&d(t)}}}function Je(l){let t,e,s=l[0].Final_Course_Title+"",_,n,o,p=l[0].Final_Course_Objective+"",k,z,w,f,g="Course Introduction",c,x,h=l[0].Final_Course_Introduction+"",b,T,q,C,i,L="Final Course Quiz",F,E,Y="Take Final Quiz",W,R,B,G,me="Course Conclusion",fe,Z,se=l[0].Final_Course_Conclusion+"",oe,re,J,D,K,be="Watch Complete Course",de,S,ge=`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            Open YouTube Playlist`,_e,X,Ce="Watch all course videos in sequence on YouTube. This will open in a new tab.",he,we,$=le(l[0].Final_Module_Title),U=[];for(let a=0;a<$.length;a+=1)U[a]=Ve(Me(l,$,a));let j=l[3]&&l[4]&&qe(l);return{c(){t=v("header"),e=v("h1"),_=N(s),n=M(),o=v("p"),k=N(p),z=M(),w=v("div"),f=v("h2"),f.textContent=g,c=M(),x=v("p"),b=N(h),T=M();for(let a=0;a<U.length;a+=1)U[a].c();q=M(),C=v("div"),i=v("h2"),i.textContent=L,F=M(),E=v("button"),E.textContent=Y,W=M(),j&&j.c(),R=M(),B=v("div"),G=v("h2"),G.textContent=me,fe=M(),Z=v("p"),oe=N(se),re=M(),J=v("div"),D=v("div"),K=v("h3"),K.textContent=be,de=M(),S=v("button"),S.innerHTML=ge,_e=M(),X=v("p"),X.textContent=Ce,this.h()},l(a){t=m(a,"HEADER",{class:!0});var I=y(t);e=m(I,"H1",{class:!0});var P=y(e);_=O(P,s),P.forEach(d),n=Q(I),o=m(I,"P",{class:!0});var ne=y(o);k=O(ne,p),ne.forEach(d),I.forEach(d),z=Q(a),w=m(a,"DIV",{class:!0});var ie=y(w);f=m(ie,"H2",{class:!0,"data-svelte-h":!0}),A(f)!=="svelte-167kq35"&&(f.textContent=g),c=Q(ie),x=m(ie,"P",{class:!0});var ke=y(x);b=O(ke,h),ke.forEach(d),ie.forEach(d),T=Q(a);for(let pe=0;pe<U.length;pe+=1)U[pe].l(a);q=Q(a),C=m(a,"DIV",{class:!0});var ae=y(C);i=m(ae,"H2",{class:!0,"data-svelte-h":!0}),A(i)!=="svelte-9dsi7i"&&(i.textContent=L),F=Q(ae),E=m(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),A(E)!=="svelte-1ne65ai"&&(E.textContent=Y),ae.forEach(d),W=Q(a),j&&j.l(a),R=Q(a),B=m(a,"DIV",{class:!0});var ue=y(B);G=m(ue,"H2",{class:!0,"data-svelte-h":!0}),A(G)!=="svelte-iw64xg"&&(G.textContent=me),fe=Q(ue),Z=m(ue,"P",{class:!0});var Ee=y(Z);oe=O(Ee,se),Ee.forEach(d),ue.forEach(d),re=Q(a),J=m(a,"DIV",{class:!0});var xe=y(J);D=m(xe,"DIV",{class:!0});var ee=y(D);K=m(ee,"H3",{class:!0,"data-svelte-h":!0}),A(K)!=="svelte-805hsr"&&(K.textContent=be),de=Q(ee),S=m(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),A(S)!=="svelte-6ua4wl"&&(S.innerHTML=ge),_e=Q(ee),X=m(ee,"P",{class:!0,"data-svelte-h":!0}),A(X)!=="svelte-xfkcbm"&&(X.textContent=Ce),ee.forEach(d),xe.forEach(d),this.h()},h(){u(e,"class","text-3xl font-bold text-red-800 mb-4"),u(o,"class","text-lg text-red-700"),u(t,"class","mb-8"),u(f,"class","text-2xl font-semibold mb-4"),u(x,"class","text-gray-700"),u(w,"class","mb-8"),u(i,"class","text-2xl font-semibold mb-4"),u(E,"class","bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600"),u(C,"class","mt-8"),u(G,"class","text-2xl font-semibold mb-4"),u(Z,"class","text-gray-700"),u(B,"class","mt-8"),u(K,"class","text-xl font-semibold"),u(S,"class","flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg transition-colors duration-200"),u(X,"class","text-sm text-gray-600 text-center max-w-md"),u(D,"class","flex flex-col items-center gap-4"),u(J,"class","mt-12 border-t pt-8")},m(a,I){V(a,t,I),r(t,e),r(e,_),r(t,n),r(t,o),r(o,k),V(a,z,I),V(a,w,I),r(w,f),r(w,c),r(w,x),r(x,b),V(a,T,I);for(let P=0;P<U.length;P+=1)U[P]&&U[P].m(a,I);V(a,q,I),V(a,C,I),r(C,i),r(C,F),r(C,E),V(a,W,I),j&&j.m(a,I),V(a,R,I),V(a,B,I),r(B,G),r(B,fe),r(B,Z),r(Z,oe),V(a,re,I),V(a,J,I),r(J,D),r(D,K),r(D,de),r(D,S),r(D,_e),r(D,X),he||(we=[te(E,"click",l[11]),te(S,"click",l[9])],he=!0)},p(a,I){if(I&1&&s!==(s=a[0].Final_Course_Title+"")&&H(_,s),I&1&&p!==(p=a[0].Final_Course_Objective+"")&&H(k,p),I&1&&h!==(h=a[0].Final_Course_Introduction+"")&&H(b,h),I&129){$=le(a[0].Final_Module_Title);let P;for(P=0;P<$.length;P+=1){const ne=Me(a,$,P);U[P]?U[P].p(ne,I):(U[P]=Ve(ne),U[P].c(),U[P].m(q.parentNode,q))}for(;P<U.length;P+=1)U[P].d(1);U.length=$.length}a[3]&&a[4]?j?j.p(a,I):(j=qe(a),j.c(),j.m(R.parentNode,R)):j&&(j.d(1),j=null),I&1&&se!==(se=a[0].Final_Course_Conclusion+"")&&H(oe,se)},d(a){a&&(d(t),d(z),d(w),d(T),d(q),d(C),d(W),d(R),d(B),d(re),d(J)),ve(U,a),j&&j.d(a),he=!1,je(we)}}}function Ke(l){let t,e,s;return{c(){t=v("div"),e=v("p"),s=N(l[2]),this.h()},l(_){t=m(_,"DIV",{class:!0});var n=y(t);e=m(n,"P",{});var o=y(e);s=O(o,l[2]),o.forEach(d),n.forEach(d),this.h()},h(){u(t,"class","text-center py-8 text-red-600")},m(_,n){V(_,t,n),r(t,e),r(e,s)},p(_,n){n&4&&H(s,_[2])},d(_){_&&d(t)}}}function Xe(l){let t,e='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-red-900 mx-auto"></div> <p class="mt-4">Loading course...</p>';return{c(){t=v("div"),t.innerHTML=e,this.h()},l(s){t=m(s,"DIV",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1iaydl6"&&(t.innerHTML=e),this.h()},h(){u(t,"class","text-center py-8")},m(s,_){V(s,t,_)},p:ce,d(s){s&&d(t)}}}function Qe(l){let t,e,s,_;return{c(){t=v("div"),e=v("iframe"),this.h()},l(n){t=m(n,"DIV",{class:!0,style:!0});var o=y(t);e=m(o,"IFRAME",{src:!0,title:!0,frameborder:!0,allow:!0,loading:!0,class:!0}),y(e).forEach(d),o.forEach(d),this.h()},h(){ye(e.src,s=`https://www.youtube.com/embed/${new URL(l[0].Final_Module_YouTube_Video_URL[l[22]]).searchParams.get("v")}?enablejsapi=0&origin=${window.location.origin}`)||u(e,"src",s),u(e,"title",_=l[27]),u(e,"frameborder","0"),u(e,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),e.allowFullscreen=!0,u(e,"loading","lazy"),u(e,"class","absolute inset-0 w-full h-full rounded"),u(t,"class","flex-grow mb-4 relative"),He(t,"min-height","400px")},m(n,o){V(n,t,o),r(t,e)},p(n,o){o&1&&!ye(e.src,s=`https://www.youtube.com/embed/${new URL(n[0].Final_Module_YouTube_Video_URL[n[22]]).searchParams.get("v")}?enablejsapi=0&origin=${window.location.origin}`)&&u(e,"src",s),o&1&&_!==(_=n[27])&&u(e,"title",_)},d(n){n&&d(t)}}}function Ve(l){let t,e,s,_=l[22]+1+"",n,o,p=l[27]+"",k,z,w,f=l[0].Final_Module_Objective[l[22]]+"",g,c,x,h,b,T="Take Module Quiz",q,C,i=l[0].Final_Module_YouTube_Video_URL[l[22]]&&Qe(l);function L(){return l[10](l[22])}return{c(){t=v("section"),e=v("h3"),s=N("Module "),n=N(_),o=N(": "),k=N(p),z=M(),w=v("p"),g=N(f),c=M(),i&&i.c(),x=M(),h=v("div"),b=v("button"),b.textContent=T,this.h()},l(F){t=m(F,"SECTION",{class:!0});var E=y(t);e=m(E,"H3",{class:!0});var Y=y(e);s=O(Y,"Module "),n=O(Y,_),o=O(Y,": "),k=O(Y,p),Y.forEach(d),z=Q(E),w=m(E,"P",{class:!0});var W=y(w);g=O(W,f),W.forEach(d),c=Q(E),i&&i.l(E),x=Q(E),h=m(E,"DIV",{class:!0});var R=y(h);b=m(R,"BUTTON",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-koucmo"&&(b.textContent=T),R.forEach(d),E.forEach(d),this.h()},h(){u(e,"class","text-xl font-semibold mb-4"),u(w,"class","mb-4 text-gray-600"),u(b,"class","bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"),u(h,"class","mt-auto"),u(t,"class","mb-8 bg-white rounded-lg shadow-md p-6 min-h-[600px] flex flex-col")},m(F,E){V(F,t,E),r(t,e),r(e,s),r(e,n),r(e,o),r(e,k),r(t,z),r(t,w),r(w,g),r(t,c),i&&i.m(t,null),r(t,x),r(t,h),r(h,b),q||(C=te(b,"click",L),q=!0)},p(F,E){l=F,E&1&&p!==(p=l[27]+"")&&H(k,p),E&1&&f!==(f=l[0].Final_Module_Objective[l[22]]+"")&&H(g,f),l[0].Final_Module_YouTube_Video_URL[l[22]]?i?i.p(l,E):(i=Qe(l),i.c(),i.m(t,x)):i&&(i.d(1),i=null)},d(F){F&&d(t),i&&i.d(),q=!1,C()}}}function qe(l){let t,e,s,_="Quiz",n,o,p,k,z="Check Answers",w,f,g="Close",c,x,h=le(l[4].quiz),b=[];for(let T=0;T<h.length;T+=1)b[T]=Ue(Ie(l,h,T));return{c(){t=v("div"),e=v("div"),s=v("h3"),s.textContent=_,n=M();for(let T=0;T<b.length;T+=1)b[T].c();o=M(),p=v("div"),k=v("button"),k.textContent=z,w=M(),f=v("button"),f.textContent=g,this.h()},l(T){t=m(T,"DIV",{class:!0});var q=y(t);e=m(q,"DIV",{class:!0});var C=y(e);s=m(C,"H3",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-uz6n"&&(s.textContent=_),n=Q(C);for(let L=0;L<b.length;L+=1)b[L].l(C);o=Q(C),p=m(C,"DIV",{class:!0});var i=y(p);k=m(i,"BUTTON",{class:!0,"data-svelte-h":!0}),A(k)!=="svelte-13s5hd3"&&(k.textContent=z),w=Q(i),f=m(i,"BUTTON",{class:!0,"data-svelte-h":!0}),A(f)!=="svelte-1ifgkqp"&&(f.textContent=g),i.forEach(d),C.forEach(d),q.forEach(d),this.h()},h(){u(s,"class","text-xl font-semibold mb-4"),u(k,"class","bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"),u(f,"class","bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"),u(p,"class","flex justify-end gap-4"),u(e,"class","bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto"),u(t,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4")},m(T,q){V(T,t,q),r(t,e),r(e,s),r(e,n);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(e,null);r(e,o),r(e,p),r(p,k),r(p,w),r(p,f),c||(x=[te(k,"click",l[8]),te(f,"click",l[14])],c=!0)},p(T,q){if(q&112){h=le(T[4].quiz);let C;for(C=0;C<h.length;C+=1){const i=Ie(T,h,C);b[C]?b[C].p(i,q):(b[C]=Ue(i),b[C].c(),b[C].m(e,o))}for(;C<b.length;C+=1)b[C].d(1);b.length=h.length}},d(T){T&&d(t),ve(b,T),c=!1,je(x)}}}function Pe(l){let t,e,s,_=!1,n,o=l[24]+"",p,k,z,w;function f(){l[12].call(e,l[22])}return k=Re(l[13][0],[l[22]]),{c(){t=v("label"),e=v("input"),n=M(),p=N(o),this.h()},l(g){t=m(g,"LABEL",{class:!0});var c=y(t);e=m(c,"INPUT",{type:!0,name:!0,class:!0}),n=Q(c),p=O(c,o),c.forEach(d),this.h()},h(){u(e,"type","radio"),u(e,"name","question"+l[22]),e.__value=s=l[23],ze(e,e.__value),u(e,"class","mr-2"),u(t,"class","block mb-2"),k.p(e)},m(g,c){V(g,t,c),r(t,e),e.checked=e.__value===l[5][l[22]],r(t,n),r(t,p),z||(w=te(e,"change",f),z=!0)},p(g,c){l=g,c&16&&s!==(s=l[23])&&(e.__value=s,ze(e,e.__value),_=!0),(_||c&48)&&(e.checked=e.__value===l[5][l[22]]),c&16&&o!==(o=l[24]+"")&&H(p,o),c&16&&k.u([l[22]])},d(g){g&&d(t),k.r(),z=!1,w()}}}function Le(l){let t,e=l[6][l[22]]?"Correct!":"Incorrect",s,_;return{c(){t=v("p"),s=N(e),this.h()},l(n){t=m(n,"P",{class:!0});var o=y(t);s=O(o,e),o.forEach(d),this.h()},h(){u(t,"class",_=l[6][l[22]]?"text-green-500":"text-red-500")},m(n,o){V(n,t,o),r(t,s)},p(n,o){o&64&&e!==(e=n[6][n[22]]?"Correct!":"Incorrect")&&H(s,e),o&64&&_!==(_=n[6][n[22]]?"text-green-500":"text-red-500")&&u(t,"class",_)},d(n){n&&d(t)}}}function Ue(l){let t,e,s=l[22]+1+"",_,n,o=l[20].question+"",p,k,z,w=le(Object.entries(l[20].options)),f=[];for(let c=0;c<w.length;c+=1)f[c]=Pe(Fe(l,w,c));let g=l[6][l[22]]!==void 0&&Le(l);return{c(){t=v("div"),e=v("p"),_=N(s),n=N(". "),p=N(o),k=M();for(let c=0;c<f.length;c+=1)f[c].c();z=M(),g&&g.c(),this.h()},l(c){t=m(c,"DIV",{class:!0});var x=y(t);e=m(x,"P",{class:!0});var h=y(e);_=O(h,s),n=O(h,". "),p=O(h,o),h.forEach(d),k=Q(x);for(let b=0;b<f.length;b+=1)f[b].l(x);z=Q(x),g&&g.l(x),x.forEach(d),this.h()},h(){u(e,"class","font-medium mb-2"),u(t,"class","mb-6")},m(c,x){V(c,t,x),r(t,e),r(e,_),r(e,n),r(e,p),r(t,k);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null);r(t,z),g&&g.m(t,null)},p(c,x){if(x&16&&o!==(o=c[20].question+"")&&H(p,o),x&48){w=le(Object.entries(c[20].options));let h;for(h=0;h<w.length;h+=1){const b=Fe(c,w,h);f[h]?f[h].p(b,x):(f[h]=Pe(b),f[h].c(),f[h].m(t,z))}for(;h<f.length;h+=1)f[h].d(1);f.length=w.length}c[6][c[22]]!==void 0?g?g.p(c,x):(g=Le(c),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},d(c){c&&d(t),ve(f,c),g&&g.d()}}}function Ze(l){let t,e;function s(o,p){return o[1]?Xe:o[2]?Ke:o[0]?Je:Ge}let _=s(l),n=_(l);return{c(){t=v("div"),e=v("main"),n.c(),this.h()},l(o){t=m(o,"DIV",{class:!0});var p=y(t);e=m(p,"MAIN",{class:!0});var k=y(e);n.l(k),k.forEach(d),p.forEach(d),this.h()},h(){u(e,"class","container mx-auto px-4 py-8 max-w-4xl"),u(t,"class","min-h-screen bg-gradient-to-br from-red-50 to-white text-red-900")},m(o,p){V(o,t,p),r(t,e),n.m(e,null)},p(o,[p]){_===(_=s(o))&&n?n.p(o,p):(n.d(1),n=_(o),n&&(n.c(),n.m(e,null)))},i:ce,o:ce,d(o){o&&d(t),n.d()}}}function $e(l,t,e){let s,_;Te(l,Se,i=>e(16,s=i)),Te(l,Be,i=>e(17,_=i));let n=null,o=!0,p=null,k=!1,z=null,w={},f={};function g(i,L){if(!i){console.error("Quiz not found");return}if(!Array.isArray(i.quiz)){console.error("Invalid quiz structure");return}if(i.quiz.length===0){console.error("No questions found in quiz");return}e(4,z=i),e(5,w={}),e(6,f={}),e(3,k=!0)}function c(){!z||!z.quiz||(e(6,f={}),z.quiz.forEach((i,L)=>{e(6,f[L]=w[L]===i.answer,f)}))}function x(){n!=null&&n.YouTube_Playlist_URL&&window.open(n.YouTube_Playlist_URL,"_blank")}Oe(async()=>{var i,L;try{if(!s){Ye("/login");return}const F=_.params.id;if(!F)throw new Error("Course ID not found");e(1,o=!0);const E=await We(s.uid,F);if(!E)throw new Error("Course not found");console.log("Course data loaded:",{hasModuleQuizzes:!!E.Final_Module_Quiz,moduleQuizCount:(i=E.Final_Module_Quiz)==null?void 0:i.length,hasCourseQuiz:!!E.Final_Course_Quiz,firstModuleQuiz:(L=E.Final_Module_Quiz)==null?void 0:L[0]}),E.completed_modules||(E.completed_modules=new Array(E.Final_Module_Title.length).fill(!1)),e(0,n=E)}catch(F){console.error("Error loading course:",F),e(2,p=F instanceof Error?F.message:"An unknown error occurred")}finally{e(1,o=!1)}});const h=[[]],b=i=>{var F;const L=(F=n==null?void 0:n.Final_Module_Quiz)==null?void 0:F[i];if(!L){console.error(`No quiz found for module ${i+1}`);return}g(L)},T=()=>g(n==null?void 0:n.Final_Course_Quiz);function q(i){w[i]=this.__value,e(5,w)}return[n,o,p,k,z,w,f,g,c,x,b,T,q,h,()=>e(3,k=!1)]}class it extends Ae{constructor(t){super(),De(this,t,$e,Ze,Ne,{})}}export{it as component};
